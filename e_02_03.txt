実施テキスト：達人に学ぶDB設計徹底指南書

実施者：玉利仁美
実施日：11月1~15日

[演習2-3] データベースサーバーのクラスタリング構成

[演習内容]
 ハードウェア、特にサーバCPUのサイジングについてケーススタディをしてみましょう。
皆さんは、今度行われるシステム更改(つまりシステムのリプレース)プロジェクトにおいて、サイジングを担当することになりました。
 話を単純にするために、単純なハードウェアリプレースのみで、アプリケーションには改修が入らず、現行通りと仮定してましょう。変更されるのは、サーバーやストレージなどハードウェアのみです。また、現行システムのアクセスログやリソースログは取得することができるため、レスポンスとスループットは算出できます。
 しかし、プロジェクトマネージャからは、次のように言われています。
 
 「このシステム、今はお客さんからピーク時間帯になると遅いと苦情が来るんだ。今後はこんなことがないよう、適切なハードウェアを選んでくれよ」
 
 プロジェクトの予算は少ないため、プロトタイプ検証を行う余裕はありません。
さて、皆さんはどんな手順でサーバーのCPUについて机上サイジングを実施すればよいでしょうか？なるべく具体的に手順を考えてください。

回答

現行のアクセスログやリソースログを取得することができるため、現在のレスポンスとスループットが算出できるので、ピーク時間帯にどれほどの負荷がかかっているのかを調べる。
ピーク時間帯のレスポンスの速さとスループットがどれほどなのかを調べ、その処理能力を持ったCPUを選定し、ピーク時に合わせたCPUにする。



参考資料：
・Windows Server 2012 R2時代のHyper-Vサーバ設計術：第1回　最新モデルを意識したCPUとメモリのサイジング (1/3)
 《http://www.atmarkit.co.jp/ait/articles/1308/22/news087.html》
 
 単語
 ・スループット…単位時間当たりの処理能力(一定時間内に処理できるデータ量)
 ・ストレージ…データを保管する場所、保存する場所のこと
